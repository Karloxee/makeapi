{% extends 'generic.html' %}
<!doctype html>
<html class="no-js" lang="fr">
<head>
	<!-- meta data -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<!--font-family-->
	<link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
	<!-- title of site -->
	<title>Make PiPoo</title>
	<!-- For favicon png -->
	<link rel="shortcut icon" type="image/icon" href="../static/logo/favicon.png"/>
	<!--font-awesome.min.css-->
	<link rel="stylesheet" href="../static/css/font-awesome.min.css">
	<!--linear icon css-->
	<link rel="stylesheet" href="../static/css/linearicons.css">
	<!--animate.css-->
	<link rel="stylesheet" href="../static/css/animate.css">
	<!--flaticon.css-->
	<link rel="stylesheet" href="../static/css/flaticon.css">
	<!--slick.css-->
	<link rel="stylesheet" href="../static/css/slick.css">
	<link rel="stylesheet" href="../static/css/slick-theme.css">
	<!--bootstrap.min.css-->
	<link rel="stylesheet" href="../static/css/bootstrap.min.css">
	<!-- bootsnav -->
	<link rel="stylesheet" href="../static/css/bootsnav.css" >	
	<!--style.css-->
	<link rel="stylesheet" href="../static/css/style.css">
	<!--responsive.css-->
	<link rel="stylesheet" href="../static/css/responsive.css">
</head>
<body>
	<header>
		{% block header %}
		<div class="header-area">
			<nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy"  data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
							<i class="fa fa-bars"></i>
						</button>
						<a href="../index/">
							<img src="../static/images/logo/logo.png" alt="Photo logo" class="logo-header"/>
						</a>
					</div>
					<div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
						<ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
							<li >
								<a href="../index#home">Accueil</a>
							</li>
							<li >
								<a href="../index#QuiSommeNous">
									Qui sommes-Nous?
								</a>
							</li>
							<li >
								<a href="../index#notre_client">
									Notre Client
								</a>
							</li>
							<li >
								<a href="../inscription/">Inscription</a>
							</li>
							<li >
								<a href="../contact/">Contact</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
		{% endblock %}
	</header>
	{% block bodyContent %}
	<section id="home" class="welcome-hero">
		<div class="container"></div>
	</section>
	<section id="list-topics" class="list-topics">
		<div class="container">
			<div class="list-topics-content">
				<ul>
					<li>
						<div class="single-list-topics-content">
							<div class="single-list-topics-icon">
								<i class="flaticon-restaurant"></i>
							</div>
							<h2><a href="../question1/">Toilettes/ARR</a></h2>
						</div>
					</li>
					<li>
						<div class="single-list-topics-content">
							<div class="single-list-topics-icon">
								<i class="flaticon-travel"></i>
							</div>
							<h2><a href="../question2/">Type/ARR</a></h2>
						</div>
					</li>
					<li>
						<div class="single-list-topics-content">
							<div class="single-list-topics-icon">
								<i class="flaticon-building"></i>
							</div>
							<h2><a href="../question3/">Accès PMR</a></h2>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</section>
	<section id="QuiSommeNous" class="works">
		<div class="container">
			<div class="section-header">
				<h2>Qui sommes nous ?</h2>
				<h3>Make PiPoo Team</h3>
			</div>
			<div class="works-content">
				<div class="single-how-works">
					<div class="single-how-works-icon">
						<img src="../static/images/teams/avatar_kennedy.png" alt="Photo Joseph Yonkile" class="img-card">
					</div>
					<h2 class="title-card">Joseph Yonkile</h2>
					<p>Big Data/Développeur Python</p>
				</div>
				<div class="single-how-works">
					<div class="single-how-works-icon">
						<img src="../static/images/teams/avatar_matthieu.webp" alt="Photo Matthieu Simon" class="img-card">
					</div>
					<h2 class="title-card">Matthieu Simon</h2>
					<p>Git Master/Développeur Python</p>
				</div>
				<div class="single-how-works">
					<div class="single-how-works-icon">
						<img src="../static/images/teams/avatar_younes.png" alt="Photo Younes Omerani" class="img-card" />
					</div>
					<h2 class="title-card">Younes Omerani</h2>
					<p>Chef de Projet/Développeur Python</p>
				</div>
				<div class="single-how-works">
					<div class="single-how-works-icon">
						<img src="../static/images/teams/avatar_suyeon.webp" alt="Photo Suyeon Lee" class="img-card"/>
					</div>
					<h2 class="title-card">Suyeon Lee</h2>
					<p>Scrum Master/Développeur Python</p>
				</div>
			</div>
		</div>
	</section>
	<section id="explore" class="explore">
		<div class="container">
			<div class="section-header">
				<h2>Explore Paris</h2>
			</div>
			<div id="map" style=""></div>
		<script>
			let map;
			async function initMap() {
				const { Map } = await google.maps.importLibrary("maps");

				map = new Map(document.getElementById("map"), {
					center: { lat: 48.8566, lng: 2.3522 },
					zoom: 15,
					minZoom: 11
				});

				// Charger le fichier CSV
				loadCSV();
			}
			// URL du fichier CSV distant
			const csvUrl = '../static/csv/sanisettes_paris.csv';
			// Fonction pour charger le fichier CSV
			function loadCSV() {
				fetch(csvUrl)
					.then(response => response.text())
					.then(csv => {
						const rows = csv.split('\n').map(row => row.split(';'));
						// Trouver l'index de la colonne geo_point_2d
						const headers = rows.shift(); // Retirer la première ligne contenant les en-têtes
						const geoPointIndex = 9;
						const addressIndex = 2;
						const typeIndex = 0;
						const pmr_index =5;
						const relais_baby_index =5
						// Créer des marqueurs à partir des données
						const markers = [];
						rows.forEach(row => {
							// Vérifier que les données sont présentes et correctes
							if (row.length > geoPointIndex && row[geoPointIndex]) {
								const geoPoint = row[geoPointIndex].split(',').map(parseFloat);
								if (!isNaN(geoPoint[1]) && !isNaN(geoPoint[0])) {
									const marker = new google.maps.Marker({
										position: { lat: geoPoint[0], lng: geoPoint[1] },
										map: map,
										icon: "../static/img/poo.png"
									});
									// Ajouter des informations personnalisées au marqueur
									marker.address = addressIndex !== -1 ? row[addressIndex] : "";
									marker.type = typeIndex !== -1 ? row[typeIndex] : "";
									marker.pmr = pmr_index !== -1 ? row[pmr_index] : "";
									marker.bebe = relais_baby_index !== -1 ? row[relais_baby_index] : "";
									// Ajouter un gestionnaire d'événements pour afficher les informations lorsque le marqueur est cliqué
									marker.addListener('click', function() {
										const infoWindow = new google.maps.InfoWindow({
											content: `<div><strong>Adresse:</strong> ${this.address}</div><div><strong>Type:</strong> ${this.type}</div>
											<div><strong>Accès PMR:</strong> ${this.pmr}</div>
											<div><strong>Relais bébé:</strong> ${this.bebe}</div>`
										});
										infoWindow.open(map, this);
									});
									markers.push(marker);
								}
							}
						});
					})
					.catch(error => {
						console.error('Error loading CSV:', error);
					});
			}
			// Appel de la fonction d'initialisation de la carte lors du chargement de la page
			window.onload = initMap;
		</script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCDKJ1optwgQVXlabjL-FfyBAig-yFdT2s&callback=initMap" async defer>
	</script>
	</section>
	<section id="notre_client" class="blog">
		<div class="container">
			<div class="section-header">
				<h2>Notre Client</h2>
			</div>
			<div class="content-client">
				<div>
					<h3 class="title-client">Greta des Yvelines</h3>
					<img src="../static/images/logo/GRETA-78.png" alt="Logo Greta" />
				</div>
				<div>
					<h3 class="title-client">Gilles Veronie</h3>
					<img src="../static/images/logo/Avatar-Gilles.jpeg" class="img-Gilles" alt="Photo Gilles" />
				</div>
			</div>
		</div>
			</section>
	{% endblock %}
	<footer>
		{% block footer %}
		<div id="ww_e5f5fdbc4d0b2" v='1.3' loc='auto' a='{"t":"ticker","lang":"fr","sl_lpl":1,"ids":[],"font":"Arial","sl_ics":"one_a","sl_sot":"celsius","cl_bkg":"image","cl_font":"#FFFFFF","cl_cloud":"#FFFFFF","cl_persp":"#81D4FA","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722"}'>Plus de prévisions: <a href="https://oneweather.org/fr/paris/25_days/" id="ww_e5f5fdbc4d0b2_u" target="_blank">Previsions meteo 25 jours</a></div><script async src="https://app2.weatherwidget.org/js/?id=ww_e5f5fdbc4d0b2"></script>
	
		<div class="container">
			<div class="footer-menu">
			<div class="hm-footer-copyright">
				<div class="row">
					<div class="col-sm-5">
						<p>
							&copy;copyright. designed and developed by Make Pi Poo Team
						</p>
					</div>
					<div class="col-sm-7">
						<div class="footer-social">
							<a href="https://www.facebook.com/" target="_blank">
								<i class="fa fa-facebook"></i>
							</a>	
							<a href="https://twitter.com/" target="_blank">
								<i class="fa fa-twitter"></i>
							</a>
							<a href="https://www.linkedin.com/" target="_blank">
								<i class="fa fa-linkedin"></i>
							</a>
							<a href="https://www.instagram.com/" target="_blank">
								<i class="fa fa-instagram"></i>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="scroll-Top">
			<div class="return-to-top">
				<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
			</div>
		</div> 
		{% endblock %}
	</footer>
	<!-- Include all js compiled plugins (below), or include individual files as needed -->
	<script src="../static/js/jquery.js"></script>
	<!--modernizr.min.js-->
	<script src="../https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
	<!--bootstrap.min.js-->
	<script src="../static/js/bootstrap.min.js"></script>
	<!-- bootsnav js -->
	<script src="../static/js/bootsnav.js"></script>
	<!--feather.min.js-->
	<script  src="../static/js/feather.min.js"></script>
	<!--slick.min.js-->
	<script src="../static/js/slick.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
	<!--Custom JS-->
	<script src="../static/js/custom.js"></script>
</body>
</html>